{
  "metadata": {
    "analysis_timestamp": "2025-11-20T00:42:10.430068",
    "model_used": "openai/gpt-4o",
    "framework_version": "1.0.0-openrouter",
    "program_id": "p01_business_analyzer",
    "quality_score": 1.0
  },
  "file_info": {
    "relative_path": "src/base/cobol_src/INQACCCU.cbl",
    "filename": "INQACCCU.cbl",
    "size_bytes": 28814,
    "extension": ".cbl"
  },
  "analysis": {
    "file_path": "src/base/cobol_src/INQACCCU.cbl",
    "analysis_type": "business",
    "business_summary": "This program processes customer inquiries by retrieving account information associated with a given customer number from a DB2 datastore. It supports customer account management by linking customer numbers to their respective accounts and handling potential errors during data retrieval.",
    "business_entities": [
      "Customer",
      "Account"
    ],
    "business_rules": [
      "A maximum of 20 accounts can be processed per customer.",
      "If the customer number is zero or '9999999999', the customer is considered not found.",
      "SQLCODE is checked to determine the success of database operations."
    ],
    "business_dependencies": [
      "DB2 database for account information",
      "CICS for transaction processing",
      "INQCUST program for customer information retrieval"
    ],
    "business_workflows": [
      "Retrieve customer information using the INQCUST program.",
      "Open a DB2 cursor to fetch account data associated with the customer.",
      "Fetch and process account data up to a maximum of 20 accounts per customer."
    ],
    "data_transformations": [
      "Date fields are reformatted from DB2 format to a specific string format for communication.",
      "Account balances and interest rates are moved from host variables to communication area variables."
    ],
    "error_handling": [
      "Handles SQLCODE errors by performing rollback operations and setting failure codes.",
      "Specific handling for DB2 connection loss and deadlock conditions.",
      "CICS abend handling for transaction failures."
    ],
    "compliance_requirements": null,
    "business_criticality": "high",
    "business_complexity": "medium",
    "modernization_impact": "high",
    "confidence": 0.85,
    "analysis_notes": "The program is critical for customer account management and involves complex error handling and data retrieval processes. It heavily relies on DB2 and CICS systems.",
    "extracted_constants": {
      "business_constants": [
        "Maximum accounts per customer: 20"
      ],
      "validation_rules": [
        "Customer number cannot be zero or '9999999999'.",
        "SQLCODE must be zero for successful operations."
      ]
    },
    "source_file": "src/base/cobol_src/INQACCCU.cbl",
    "file_name": "INQACCCU.cbl",
    "file_size": 28814,
    "analysis_timestamp": "2025-11-20T00:42:10.429997",
    "model_used": "openai/gpt-4o",
    "framework_version": "1.0.0-openrouter",
    "program_id": "p01_business_analyzer"
  },
  "quality_metrics": {
    "quality_score": 1.0,
    "has_parsing_error": false,
    "confidence_level": 0.85,
    "metadata_complete": true,
    "content_completeness": 1.0
  },
  "output_files": {
    "markdown": "/Users/matiasnegri/Projects/taller/Agentic_framework/framework_openrouter/tmp/output_documentation/p01_business_analyzer/INQACCCU.cbl.business.md",
    "json": "/Users/matiasnegri/Projects/taller/Agentic_framework/framework_openrouter/tmp/output_documentation/p01_business_analyzer/INQACCCU.cbl.business.json"
  }
}