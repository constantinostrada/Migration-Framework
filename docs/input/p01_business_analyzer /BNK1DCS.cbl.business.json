{
  "metadata": {
    "analysis_timestamp": "2025-11-20T00:41:05.389893",
    "model_used": "openai/gpt-4o",
    "framework_version": "1.0.0-openrouter",
    "program_id": "p01_business_analyzer",
    "quality_score": 1.0
  },
  "file_info": {
    "relative_path": "src/base/cobol_src/BNK1DCS.cbl",
    "filename": "BNK1DCS.cbl",
    "size_bytes": 65395,
    "extension": ".cbl"
  },
  "analysis": {
    "file_path": "src/base/cobol_src/BNK1DCS.cbl",
    "analysis_type": "business",
    "business_summary": "The program supports customer management processes within a banking application, allowing for the display, update, and deletion of customer records based on user input. It interacts with customer data to perform these operations.",
    "business_entities": [
      "Customer",
      "Customer Record",
      "Customer Address",
      "Customer Credit Score"
    ],
    "business_rules": [
      "Customer number must be numeric and not zero or '9999999999'.",
      "Customer name must start with a valid title such as Mr, Mrs, Miss, Ms, Dr, Professor, Drs, Lord, Sir, Lady.",
      "Customer address must not be all spaces.",
      "Sort code and customer number combination must be valid."
    ],
    "business_dependencies": [
      "INQCUST",
      "DELCUS",
      "UPDCUST"
    ],
    "business_workflows": [
      "Display customer details when the program is initiated.",
      "Delete customer record when PF5 is pressed.",
      "Update customer record when PF10 is pressed.",
      "Return to main menu when PF3 is pressed.",
      "Send termination message when PF12 is pressed."
    ],
    "data_transformations": [
      "Splitting and formatting of customer address and date of birth for processing.",
      "Conversion of customer credit score from character to numeric format."
    ],
    "error_handling": [
      "Handles invalid key presses by displaying an error message.",
      "Handles customer not found scenarios by displaying an appropriate message.",
      "Handles data store errors during delete and update operations."
    ],
    "compliance_requirements": null,
    "business_criticality": "high",
    "business_complexity": "high",
    "modernization_impact": "high",
    "confidence": 0.85,
    "analysis_notes": "The program is integral to customer data management in the banking application, with complex interactions and validations. It relies heavily on CICS transactions and error handling mechanisms.",
    "extracted_constants": {
      "business_constants": [
        "Session Ended",
        "Invalid key pressed.",
        "Please enter a customer number.",
        "Customer lookup successful.",
        "Customer and associated accounts were successfully deleted.",
        "Customer was updated successfully."
      ],
      "validation_rules": [
        "Customer number must be numeric.",
        "Valid titles are: Mr, Mrs, Miss, Ms, Dr, Professor, Drs, Lord, Sir, Lady.",
        "Address must not be all spaces."
      ]
    },
    "source_file": "src/base/cobol_src/BNK1DCS.cbl",
    "file_name": "BNK1DCS.cbl",
    "file_size": 65395,
    "analysis_timestamp": "2025-11-20T00:41:05.389819",
    "model_used": "openai/gpt-4o",
    "framework_version": "1.0.0-openrouter",
    "program_id": "p01_business_analyzer"
  },
  "quality_metrics": {
    "quality_score": 1.0,
    "has_parsing_error": false,
    "confidence_level": 0.85,
    "metadata_complete": true,
    "content_completeness": 1.0
  },
  "output_files": {
    "markdown": "/Users/matiasnegri/Projects/taller/Agentic_framework/framework_openrouter/tmp/output_documentation/p01_business_analyzer/BNK1DCS.cbl.business.md",
    "json": "/Users/matiasnegri/Projects/taller/Agentic_framework/framework_openrouter/tmp/output_documentation/p01_business_analyzer/BNK1DCS.cbl.business.json"
  }
}