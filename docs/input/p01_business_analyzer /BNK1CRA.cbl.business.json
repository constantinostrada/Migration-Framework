{
  "metadata": {
    "analysis_timestamp": "2025-11-20T00:36:40.857768",
    "model_used": "openai/gpt-4o",
    "framework_version": "1.0.0-openrouter",
    "program_id": "p01_business_analyzer",
    "quality_score": 1.0
  },
  "file_info": {
    "relative_path": "src/base/cobol_src/BNK1CRA.cbl",
    "filename": "BNK1CRA.cbl",
    "size_bytes": 37728,
    "extension": ".cbl"
  },
  "analysis": {
    "file_path": "src/base/cobol_src/BNK1CRA.cbl",
    "analysis_type": "business",
    "business_summary": "The program supports credit and debit transactions within a banking application. It handles user interactions, validates input data, and processes financial transactions by interfacing with other systems.",
    "business_entities": [
      "Customer",
      "Account",
      "Transaction"
    ],
    "business_rules": [
      "Account number must be numeric and non-zero.",
      "Amount must be numeric and can have up to two decimal places.",
      "Sign must be '+' or '-' for credit or debit respectively.",
      "Sufficient funds must be available for debit transactions."
    ],
    "business_dependencies": [
      "CICS for transaction processing",
      "DBCRFUN subprogram for credit/debit operations",
      "BNK1CDM mapset for user interface"
    ],
    "business_workflows": [
      "User inputs are validated and processed for credit or debit transactions.",
      "Successful transactions update account balances and display confirmation.",
      "Error conditions trigger specific error messages and transaction rollback."
    ],
    "data_transformations": [
      "Conversion of string input to numeric values for transaction amounts.",
      "Calculation of available and actual balances after transactions."
    ],
    "error_handling": [
      "Invalid key presses result in error messages.",
      "Transaction failures due to insufficient funds or invalid data trigger specific error messages.",
      "CICS response codes are checked and handled for transaction failures."
    ],
    "compliance_requirements": null,
    "business_criticality": "high",
    "business_complexity": "medium",
    "modernization_impact": "high",
    "confidence": 0.85,
    "analysis_notes": "The program is integral to the banking application's transaction processing, requiring careful handling of user inputs and interfacing with other systems for transaction execution.",
    "extracted_constants": {
      "business_constants": [
        "Session Ended",
        "Invalid key pressed.",
        "Amount successfully applied to the account."
      ],
      "validation_rules": [
        "Account number must be numeric.",
        "Amount must be numeric with up to two decimal places.",
        "Sign must be '+' or '-'."
      ]
    },
    "source_file": "src/base/cobol_src/BNK1CRA.cbl",
    "file_name": "BNK1CRA.cbl",
    "file_size": 37728,
    "analysis_timestamp": "2025-11-20T00:36:40.857730",
    "model_used": "openai/gpt-4o",
    "framework_version": "1.0.0-openrouter",
    "program_id": "p01_business_analyzer"
  },
  "quality_metrics": {
    "quality_score": 1.0,
    "has_parsing_error": false,
    "confidence_level": 0.85,
    "metadata_complete": true,
    "content_completeness": 1.0
  },
  "output_files": {
    "markdown": "/Users/matiasnegri/Projects/taller/Agentic_framework/framework_openrouter/tmp/output_documentation/p01_business_analyzer/BNK1CRA.cbl.business.md",
    "json": "/Users/matiasnegri/Projects/taller/Agentic_framework/framework_openrouter/tmp/output_documentation/p01_business_analyzer/BNK1CRA.cbl.business.json"
  }
}