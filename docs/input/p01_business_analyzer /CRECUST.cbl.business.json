{
  "metadata": {
    "analysis_timestamp": "2025-11-20T00:41:21.303909",
    "model_used": "openai/gpt-4o",
    "framework_version": "1.0.0-openrouter",
    "program_id": "p01_business_analyzer",
    "quality_score": 1.0
  },
  "file_info": {
    "relative_path": "src/base/cobol_src/CRECUST.cbl",
    "filename": "CRECUST.cbl",
    "size_bytes": 49194,
    "extension": ".cbl"
  },
  "analysis": {
    "file_path": "src/base/cobol_src/CRECUST.cbl",
    "analysis_type": "business",
    "business_summary": "The program processes customer information by determining the appropriate datastore (VSAM or DB2), performing credit checks with multiple agencies, and updating customer records. It handles customer data creation and transaction logging in a legacy system.",
    "business_entities": [
      "Customer",
      "Credit Score",
      "Transaction",
      "Datastore"
    ],
    "business_rules": [
      "If no credit data is returned, set credit score to 0 and mark review date as today.",
      "If customer data write fails, decrement and dequeue the named counter.",
      "Date of birth must be valid and customer age must not exceed 150 years."
    ],
    "business_dependencies": [
      "BMS application for customer data input",
      "VSAM and DB2 datastores for data storage",
      "Credit agencies for credit score checks"
    ],
    "business_workflows": [
      "Customer data retrieval and processing",
      "Credit score checking and aggregation",
      "Customer record creation and transaction logging"
    ],
    "data_transformations": [
      "Aggregation and averaging of credit scores",
      "Conversion of date formats for processing"
    ],
    "error_handling": [
      "Handles errors in credit check responses by setting default values and logging errors.",
      "Retries on system ID errors during datastore operations.",
      "Validates date of birth and handles invalid entries."
    ],
    "compliance_requirements": null,
    "business_criticality": "high",
    "business_complexity": "high",
    "modernization_impact": "high",
    "confidence": 0.85,
    "analysis_notes": "The code involves complex interactions with external systems and datastores, making it critical for customer data processing. It includes significant error handling and validation logic.",
    "extracted_constants": {
      "business_constants": [
        "SORTCODE",
        "CUSTOMER",
        "PROCTRAN"
      ],
      "validation_rules": [
        "COMM-BIRTH-YEAR must be greater than 1600",
        "Customer age must not exceed 150 years"
      ]
    },
    "source_file": "src/base/cobol_src/CRECUST.cbl",
    "file_name": "CRECUST.cbl",
    "file_size": 49194,
    "analysis_timestamp": "2025-11-20T00:41:21.303838",
    "model_used": "openai/gpt-4o",
    "framework_version": "1.0.0-openrouter",
    "program_id": "p01_business_analyzer"
  },
  "quality_metrics": {
    "quality_score": 1.0,
    "has_parsing_error": false,
    "confidence_level": 0.85,
    "metadata_complete": true,
    "content_completeness": 1.0
  },
  "output_files": {
    "markdown": "/Users/matiasnegri/Projects/taller/Agentic_framework/framework_openrouter/tmp/output_documentation/p01_business_analyzer/CRECUST.cbl.business.md",
    "json": "/Users/matiasnegri/Projects/taller/Agentic_framework/framework_openrouter/tmp/output_documentation/p01_business_analyzer/CRECUST.cbl.business.json"
  }
}