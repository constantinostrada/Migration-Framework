{
  "metadata": {
    "analysis_timestamp": "2025-11-20T00:37:19.671773",
    "model_used": "openai/gpt-4o",
    "framework_version": "1.0.0-openrouter",
    "program_id": "p01_business_analyzer",
    "quality_score": 1.0
  },
  "file_info": {
    "relative_path": "src/base/cobol_src/BNK1TFN.cbl",
    "filename": "BNK1TFN.cbl",
    "size_bytes": 40063,
    "extension": ".cbl"
  },
  "analysis": {
    "file_path": "src/base/cobol_src/BNK1TFN.cbl",
    "analysis_type": "business",
    "business_summary": "The program supports the transfer of funds between accounts within the same bank. It handles user interactions for initiating transfers, validating input data, and processing the transfer through a linked subprogram.",
    "business_entities": [
      "Customer",
      "Account",
      "Transaction"
    ],
    "business_rules": [
      "FROM and TO account numbers must be different.",
      "Account number '00000000' is not valid.",
      "Amount must be greater than zero and numeric.",
      "Negative amounts are not supported.",
      "Only up to two decimal places are supported for amounts."
    ],
    "business_dependencies": [
      "CICS transaction processing",
      "Subprogram XFRFUN for account data and transfer processing"
    ],
    "business_workflows": [
      "User initiates a transfer by entering account numbers and amount.",
      "Data is validated for correctness and completeness.",
      "If valid, the transfer is processed by calling the XFRFUN subprogram.",
      "Results are displayed to the user, indicating success or failure."
    ],
    "data_transformations": [
      "Conversion of input amount to a floating-point number for processing.",
      "String manipulation for date and time formatting."
    ],
    "error_handling": [
      "Invalid key presses result in an error message.",
      "Various error messages are displayed for invalid account numbers or amounts.",
      "CICS response codes are checked, and errors are logged and handled by linking to an Abend Handler program."
    ],
    "compliance_requirements": null,
    "business_criticality": "high",
    "business_complexity": "medium",
    "modernization_impact": "high",
    "confidence": 0.85,
    "analysis_notes": "The program is critical for banking operations as it handles fund transfers, a core banking function. It involves complex validation and error handling, indicating a high impact if modernized.",
    "extracted_constants": {
      "business_constants": [
        "'BNK1TFN  '",
        "'Session Ended'",
        "'ABENDING TASK.'"
      ],
      "validation_rules": [
        "FROM and TO account numbers must be different.",
        "Account number '00000000' is not valid.",
        "Amount must be greater than zero and numeric.",
        "Negative amounts are not supported.",
        "Only up to two decimal places are supported for amounts."
      ]
    },
    "source_file": "src/base/cobol_src/BNK1TFN.cbl",
    "file_name": "BNK1TFN.cbl",
    "file_size": 40063,
    "analysis_timestamp": "2025-11-20T00:37:19.671699",
    "model_used": "openai/gpt-4o",
    "framework_version": "1.0.0-openrouter",
    "program_id": "p01_business_analyzer"
  },
  "quality_metrics": {
    "quality_score": 1.0,
    "has_parsing_error": false,
    "confidence_level": 0.85,
    "metadata_complete": true,
    "content_completeness": 1.0
  },
  "output_files": {
    "markdown": "/Users/matiasnegri/Projects/taller/Agentic_framework/framework_openrouter/tmp/output_documentation/p01_business_analyzer/BNK1TFN.cbl.business.md",
    "json": "/Users/matiasnegri/Projects/taller/Agentic_framework/framework_openrouter/tmp/output_documentation/p01_business_analyzer/BNK1TFN.cbl.business.json"
  }
}