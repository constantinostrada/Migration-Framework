{
  "metadata": {
    "analysis_timestamp": "2025-11-20T00:39:51.168111",
    "model_used": "openai/gpt-4o",
    "framework_version": "1.0.0-openrouter",
    "program_id": "p01_business_analyzer",
    "quality_score": 1.0
  },
  "file_info": {
    "relative_path": "src/base/cobol_src/BNKMENU.cbl",
    "filename": "BNKMENU.cbl",
    "size_bytes": 42448,
    "extension": ".cbl"
  },
  "analysis": {
    "file_path": "src/base/cobol_src/BNKMENU.cbl",
    "analysis_type": "business",
    "business_summary": "The BNKMENU program is the initial entry point for a banking system, allowing users to select various banking operations such as viewing customer or account details, creating or updating accounts, and transferring funds. It validates user input and directs the flow to appropriate transactions based on user selections.",
    "business_entities": [
      "Customer",
      "Account",
      "Transaction"
    ],
    "business_rules": [
      "User input must be a valid option: 1-7 or A.",
      "If a PA key is pressed, the program continues without action.",
      "If Pf3 or Pf12 is pressed, the session is terminated.",
      "If CLEAR is pressed, the screen is erased and control is returned."
    ],
    "business_dependencies": [
      "CICS for transaction management",
      "BNK1MAI mapset for user interface",
      "DFHAID for CICS aid key handling"
    ],
    "business_workflows": [
      "Display customer details",
      "Display account details",
      "Create a customer",
      "Create an account",
      "Update an account",
      "Credit/Debit funds to an account",
      "Transfer funds between accounts",
      "Look up accounts for a given customer"
    ],
    "data_transformations": [
      "Date and time formatting for logging and error handling",
      "String concatenation for error messages"
    ],
    "error_handling": [
      "Handles invalid key presses by displaying an error message.",
      "Handles transaction failures by logging error details and linking to an abend handler."
    ],
    "compliance_requirements": null,
    "business_criticality": "high",
    "business_complexity": "medium",
    "modernization_impact": "high",
    "confidence": 0.85,
    "analysis_notes": "The program is critical for initiating user interactions and directing them to appropriate banking operations. It includes error handling for transaction failures and user input validation.",
    "extracted_constants": {
      "business_constants": [
        "END-OF-SESSION-MESSAGE: 'Session Ended'",
        "WS-ABEND-PGM: 'ABNDPROC'"
      ],
      "validation_rules": [
        "Valid options for ACTIONI: '1', '2', '3', '4', '5', '6', '7', 'A'"
      ]
    },
    "source_file": "src/base/cobol_src/BNKMENU.cbl",
    "file_name": "BNKMENU.cbl",
    "file_size": 42448,
    "analysis_timestamp": "2025-11-20T00:39:51.168040",
    "model_used": "openai/gpt-4o",
    "framework_version": "1.0.0-openrouter",
    "program_id": "p01_business_analyzer"
  },
  "quality_metrics": {
    "quality_score": 1.0,
    "has_parsing_error": false,
    "confidence_level": 0.85,
    "metadata_complete": true,
    "content_completeness": 1.0
  },
  "output_files": {
    "markdown": "/Users/matiasnegri/Projects/taller/Agentic_framework/framework_openrouter/tmp/output_documentation/p01_business_analyzer/BNKMENU.cbl.business.md",
    "json": "/Users/matiasnegri/Projects/taller/Agentic_framework/framework_openrouter/tmp/output_documentation/p01_business_analyzer/BNKMENU.cbl.business.json"
  }
}